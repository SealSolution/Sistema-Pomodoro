<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="./viaCep.js"></script>
    <title>Document</title>
</head>

<body>
    Insira o seu nome: <input id="ipt_nome"><br>
    Insira o seu sobrenome : <input id="ipt_sobreNome"><br>
    insira seu email: <input type="text" id="ipt_email">

    Senha : <input type="password" id="ipt_senha" maxlength="12"><br>

    celular : <input maxlength="15" id="tel" onkeypress="Telefone(tel.value)"><br>
    CPF : <input maxlength="14" id="cpf" onkeypress="CPF(cpf.value)"><br>
    CNPJ : <input maxlength="14" id="cnpj">




    <label>Cep:
        <input name="cep" type="text" id="cep" value="" size="10" maxlength="9"
            onblur="pesquisacep(this.value);" /></label><br />
    <label>Rua:
        <input name="rua" type="text" id="rua" size="60" /></label><br />
    <label>Bairro:
        <input name="bairro" type="text" id="bairro" size="40" /></label><br />
    <label>Cidade:
        <input name="cidade" type="text" id="cidade" size="40" /></label><br />
    <label>Estado:
        <input name="uf" type="text" id="uf" size="2" /></label><br />

    <button onclick="Cadastrar()"><a href="./login.html">Cadastrar</a></button>
</body>

</html>
<script>
    function Cadastrar() {
        var nomeUsuario = ipt_nome.value
        var sobreNome = ipt_sobreNome.value
        var email = ipt_email.value
        var senha = ipt_senha.value
        var telefone = tel.value
        var cpfuser = cpf.value
        var cnpjuser = cnpj.value
        var cepuser = cep.value
        var ruauser = rua.value
        var bairrouser = bairro.value
        var cidadeuser = cidade.value
        var ufuser = uf.value
        if (
            nomeUsuario && sobreNome && email && senha &&
            telefone && cepuser && ruauser && bairrouser && cidadeuser && ufuser && cpfuser
            || nomeUsuario && sobreNome && email && senha &&
            telefone && cepuser && ruauser && bairrouser && cidadeuser && ufuser && cnpjuser
        ) alert('Usuario cadastrado com sucesso.')
        else alert('Erro')
    }
    function Mascara(valuecpf, patternCpf) {
        let i = 0;
        let v = valuecpf.toString();
        v = v.replace(/\D/g, '');
        return patternCpf.replace(/#/g, () => v[i++] || '');
    };

    function CPF(valuecpf) {
        const cpf = Mascara(valuecpf, '###.###.###-##');
        document.getElementById('cpf').value = cpf;
    }

    function Telefone(valueTel) {
        const formatado = Mascara(valueTel, '(##) #####-####');
        document.getElementById('tel').value = formatado;
    }



    const input = document.getElementById("cnpj");
    input.addEventListener("keyup", formatarCNPJ);
    function formatarCNPJ(e) {

        var v = e.target.value.replace(/\D/g, "");

        v = v.replace(/^(\d{2})(\d)/, "$1.$2");

        v = v.replace(/^(\d{2})\.(\d{3})(\d)/, "$1.$2.$3");

        v = v.replace(/\.(\d{3})(\d)/, ".$1/$2");

        v = v.replace(/(\d{4})(\d)/, "$1-$2");

        e.target.value = v;



    }


</script>